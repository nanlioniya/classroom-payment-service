2025-05-09 00:30:55,529 - ERROR - Failed to create payment: 404: Service not found - Details: {"user_id": "string", "service_id": "string", "error": "404: Service not found"}
2025-05-09 00:31:52,203 - INFO - Payment created for user string - Details: {"payment_id": "96d1d2ce-6739-444d-add2-7e7cb0ce3ee2", "amount": 0.0, "service_id": "string"}
2025-05-09 00:46:27,323 - INFO - Listing all payment services
2025-05-09 00:46:59,333 - INFO - Adding new payment service - Details: {"service_id": "string", "name": "string"}
2025-05-09 00:46:59,339 - INFO - Payment service added successfully - Details: {"service_id": "string"}
2025-05-09 00:49:00,850 - INFO - Listing all payment services
2025-05-09 00:49:12,012 - INFO - Adding new payment service - Details: {"service_id": "string", "name": "string"}
2025-05-09 00:49:12,017 - INFO - Payment service added successfully - Details: {"service_id": "string"}
2025-05-09 00:49:18,774 - INFO - Getting payment service details - Details: {"service_id": "string"}
2025-05-09 00:50:28,421 - INFO - Getting payment service details - Details: {"service_id": "string"}
2025-05-09 00:57:12,945 - INFO - Listing all payment services
2025-05-09 00:57:24,035 - INFO - Adding new payment service - Details: {"service_id": "string", "name": "string"}
2025-05-09 00:57:24,040 - INFO - Payment service added successfully - Details: {"service_id": "string"}
2025-05-09 00:57:35,896 - INFO - Getting payment service details - Details: {"service_id": "string"}
2025-05-09 00:57:35,901 - DEBUG - Payment service found - Details: {"service_id": "string", "service_name": "string"}
2025-05-09 00:57:52,952 - INFO - Updating payment service - Details: {"service_id": "string"}
2025-05-09 00:57:52,958 - INFO - Payment service updated successfully - Details: {"service_id": "string", "updated_fields": ["name", "description", "base_price"]}
2025-05-09 00:58:09,028 - INFO - Deleting payment service - Details: {"service_id": "string"}
2025-05-09 00:58:09,035 - INFO - Payment service deleted successfully - Details: {"service_id": "string"}
2025-05-09 00:58:18,459 - INFO - Creating new payment - Details: {"payment_id": "a61d8737-99bb-44f1-87ff-fb29981f5e45", "user_id": "string"}
2025-05-09 00:58:18,463 - WARNING - Service not found for payment - Details: {"payment_id": "a61d8737-99bb-44f1-87ff-fb29981f5e45", "service_id": "string"}
2025-05-09 00:58:18,466 - ERROR - Failed to create payment: 404: Service not found - Details: {"user_id": "string", "service_id": "string", "error": "404: Service not found"}
2025-05-09 00:58:29,452 - INFO - Adding new payment service - Details: {"service_id": "string", "name": "string"}
2025-05-09 00:58:29,456 - INFO - Payment service added successfully - Details: {"service_id": "string"}
2025-05-09 00:58:33,514 - INFO - Creating new payment - Details: {"payment_id": "d5c29cc5-8000-403f-bba9-c637d9b76e38", "user_id": "string"}
2025-05-09 00:58:33,518 - DEBUG - Sending email to http://localhost:8001/payment/created - Details: {"endpoint": "payment/created", "data": {"recipient": "user@example.com", "payment_id": "d5c29cc5-8000-403f-bba9-c637d9b76e38", "service_name": "string", "amount": 0.0, "due_date": "2025-06-08"}}
2025-05-09 00:58:33,523 - DEBUG - JSON data: {"recipient": "user@example.com", "payment_id": "d5c29cc5-8000-403f-bba9-c637d9b76e38", "service_name": "string", "amount": 0.0, "due_date": "2025-06-08"} - Details: {"json_data": "{\"recipient\": \"user@example.com\", \"payment_id\": \"d5c29cc5-8000-403f-bba9-c637d9b76e38\", \"service_name\": \"string\", \"amount\": 0.0, \"due_date\": \"2025-06-08\"}"}
2025-05-09 00:58:33,590 - ERROR - Failed to send email - Details: {"error": "HTTPConnectionPool(host='localhost', port=8001): Max retries exceeded with url: /payment/created (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fdf44ac9be0>: Failed to establish a new connection: [Errno 111] Connection refused'))", "stack_trace": "Traceback (most recent call last):\n  File \"/mnt/c/Users/lotus/classroom-payment-service/venv/lib/python3.8/site-packages/urllib3/connection.py\", line 199, in _new_conn\n    sock = connection.create_connection(\n  File \"/mnt/c/Users/lotus/classroom-payment-service/venv/lib/python3.8/site-packages/urllib3/util/connection.py\", line 85, in create_connection\n    raise err\n  File \"/mnt/c/Users/lotus/classroom-payment-service/venv/lib/python3.8/site-packages/urllib3/util/connection.py\", line 73, in create_connection\n    sock.connect(sa)\nConnectionRefusedError: [Errno 111] Connection refused\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/mnt/c/Users/lotus/classroom-payment-service/venv/lib/python3.8/site-packages/urllib3/connectionpool.py\", line 789, in urlopen\n    response = self._make_request(\n  File \"/mnt/c/Users/lotus/classroom-payment-service/venv/lib/python3.8/site-packages/urllib3/connectionpool.py\", line 495, in _make_request\n    conn.request(\n  File \"/mnt/c/Users/lotus/classroom-payment-service/venv/lib/python3.8/site-packages/urllib3/connection.py\", line 441, in request\n    self.endheaders()\n  File \"/usr/lib/python3.8/http/client.py\", line 1251, in endheaders\n    self._send_output(message_body, encode_chunked=encode_chunked)\n  File \"/usr/lib/python3.8/http/client.py\", line 1011, in _send_output\n    self.send(msg)\n  File \"/usr/lib/python3.8/http/client.py\", line 951, in send\n    self.connect()\n  File \"/mnt/c/Users/lotus/classroom-payment-service/venv/lib/python3.8/site-packages/urllib3/connection.py\", line 279, in connect\n    self.sock = self._new_conn()\n  File \"/mnt/c/Users/lotus/classroom-payment-service/venv/lib/python3.8/site-packages/urllib3/connection.py\", line 214, in _new_conn\n    raise NewConnectionError(\nurllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fdf44ac9be0>: Failed to establish a new connection: [Errno 111] Connection refused\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/mnt/c/Users/lotus/classroom-payment-service/venv/lib/python3.8/site-packages/requests/adapters.py\", line 667, in send\n    resp = conn.urlopen(\n  File \"/mnt/c/Users/lotus/classroom-payment-service/venv/lib/python3.8/site-packages/urllib3/connectionpool.py\", line 843, in urlopen\n    retries = retries.increment(\n  File \"/mnt/c/Users/lotus/classroom-payment-service/venv/lib/python3.8/site-packages/urllib3/util/retry.py\", line 519, in increment\n    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]\nurllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=8001): Max retries exceeded with url: /payment/created (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fdf44ac9be0>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/mnt/c/Users/lotus/classroom-payment-service/payment_service/main.py\", line 88, in send_email\n    response = requests.post(\n  File \"/mnt/c/Users/lotus/classroom-payment-service/venv/lib/python3.8/site-packages/requests/api.py\", line 115, in post\n    return request(\"post\", url, data=data, json=json, **kwargs)\n  File \"/mnt/c/Users/lotus/classroom-payment-service/venv/lib/python3.8/site-packages/requests/api.py\", line 59, in request\n    return session.request(method=method, url=url, **kwargs)\n  File \"/mnt/c/Users/lotus/classroom-payment-service/venv/lib/python3.8/site-packages/requests/sessions.py\", line 589, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"/mnt/c/Users/lotus/classroom-payment-service/venv/lib/python3.8/site-packages/requests/sessions.py\", line 703, in send\n    r = adapter.send(request, **kwargs)\n  File \"/mnt/c/Users/lotus/classroom-payment-service/venv/lib/python3.8/site-packages/requests/adapters.py\", line 700, in send\n    raise ConnectionError(e, request=request)\nrequests.exceptions.ConnectionError: HTTPConnectionPool(host='localhost', port=8001): Max retries exceeded with url: /payment/created (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fdf44ac9be0>: Failed to establish a new connection: [Errno 111] Connection refused'))\n", "endpoint": "payment/created"}
2025-05-09 00:58:33,594 - WARNING - Failed to send email notification - Details: {"payment_id": "d5c29cc5-8000-403f-bba9-c637d9b76e38", "email": "user@example.com"}
2025-05-09 00:58:33,598 - INFO - Payment created for user string - Details: {"payment_id": "d5c29cc5-8000-403f-bba9-c637d9b76e38", "amount": 0.0, "service_id": "string"}
2025-05-09 00:59:24,821 - INFO - Creating new payment - Details: {"payment_id": "142a4302-f7b1-4ec5-b851-3bebc6e31f4e", "user_id": "string"}
2025-05-09 00:59:24,833 - DEBUG - Sending email to http://localhost:8001/payment/created - Details: {"endpoint": "payment/created", "data": {"recipient": "user@example.com", "payment_id": "142a4302-f7b1-4ec5-b851-3bebc6e31f4e", "service_name": "string", "amount": 0.0, "due_date": "2025-06-08"}}
2025-05-09 00:59:24,837 - DEBUG - JSON data: {"recipient": "user@example.com", "payment_id": "142a4302-f7b1-4ec5-b851-3bebc6e31f4e", "service_name": "string", "amount": 0.0, "due_date": "2025-06-08"} - Details: {"json_data": "{\"recipient\": \"user@example.com\", \"payment_id\": \"142a4302-f7b1-4ec5-b851-3bebc6e31f4e\", \"service_name\": \"string\", \"amount\": 0.0, \"due_date\": \"2025-06-08\"}"}
2025-05-09 00:59:24,873 - ERROR - Failed to send email - Details: {"error": "HTTPConnectionPool(host='localhost', port=8001): Max retries exceeded with url: /payment/created (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fdf44a95940>: Failed to establish a new connection: [Errno 111] Connection refused'))", "stack_trace": "Traceback (most recent call last):\n  File \"/mnt/c/Users/lotus/classroom-payment-service/venv/lib/python3.8/site-packages/urllib3/connection.py\", line 199, in _new_conn\n    sock = connection.create_connection(\n  File \"/mnt/c/Users/lotus/classroom-payment-service/venv/lib/python3.8/site-packages/urllib3/util/connection.py\", line 85, in create_connection\n    raise err\n  File \"/mnt/c/Users/lotus/classroom-payment-service/venv/lib/python3.8/site-packages/urllib3/util/connection.py\", line 73, in create_connection\n    sock.connect(sa)\nConnectionRefusedError: [Errno 111] Connection refused\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/mnt/c/Users/lotus/classroom-payment-service/venv/lib/python3.8/site-packages/urllib3/connectionpool.py\", line 789, in urlopen\n    response = self._make_request(\n  File \"/mnt/c/Users/lotus/classroom-payment-service/venv/lib/python3.8/site-packages/urllib3/connectionpool.py\", line 495, in _make_request\n    conn.request(\n  File \"/mnt/c/Users/lotus/classroom-payment-service/venv/lib/python3.8/site-packages/urllib3/connection.py\", line 441, in request\n    self.endheaders()\n  File \"/usr/lib/python3.8/http/client.py\", line 1251, in endheaders\n    self._send_output(message_body, encode_chunked=encode_chunked)\n  File \"/usr/lib/python3.8/http/client.py\", line 1011, in _send_output\n    self.send(msg)\n  File \"/usr/lib/python3.8/http/client.py\", line 951, in send\n    self.connect()\n  File \"/mnt/c/Users/lotus/classroom-payment-service/venv/lib/python3.8/site-packages/urllib3/connection.py\", line 279, in connect\n    self.sock = self._new_conn()\n  File \"/mnt/c/Users/lotus/classroom-payment-service/venv/lib/python3.8/site-packages/urllib3/connection.py\", line 214, in _new_conn\n    raise NewConnectionError(\nurllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fdf44a95940>: Failed to establish a new connection: [Errno 111] Connection refused\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/mnt/c/Users/lotus/classroom-payment-service/venv/lib/python3.8/site-packages/requests/adapters.py\", line 667, in send\n    resp = conn.urlopen(\n  File \"/mnt/c/Users/lotus/classroom-payment-service/venv/lib/python3.8/site-packages/urllib3/connectionpool.py\", line 843, in urlopen\n    retries = retries.increment(\n  File \"/mnt/c/Users/lotus/classroom-payment-service/venv/lib/python3.8/site-packages/urllib3/util/retry.py\", line 519, in increment\n    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]\nurllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=8001): Max retries exceeded with url: /payment/created (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fdf44a95940>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/mnt/c/Users/lotus/classroom-payment-service/payment_service/main.py\", line 88, in send_email\n    response = requests.post(\n  File \"/mnt/c/Users/lotus/classroom-payment-service/venv/lib/python3.8/site-packages/requests/api.py\", line 115, in post\n    return request(\"post\", url, data=data, json=json, **kwargs)\n  File \"/mnt/c/Users/lotus/classroom-payment-service/venv/lib/python3.8/site-packages/requests/api.py\", line 59, in request\n    return session.request(method=method, url=url, **kwargs)\n  File \"/mnt/c/Users/lotus/classroom-payment-service/venv/lib/python3.8/site-packages/requests/sessions.py\", line 589, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"/mnt/c/Users/lotus/classroom-payment-service/venv/lib/python3.8/site-packages/requests/sessions.py\", line 703, in send\n    r = adapter.send(request, **kwargs)\n  File \"/mnt/c/Users/lotus/classroom-payment-service/venv/lib/python3.8/site-packages/requests/adapters.py\", line 700, in send\n    raise ConnectionError(e, request=request)\nrequests.exceptions.ConnectionError: HTTPConnectionPool(host='localhost', port=8001): Max retries exceeded with url: /payment/created (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fdf44a95940>: Failed to establish a new connection: [Errno 111] Connection refused'))\n", "endpoint": "payment/created"}
2025-05-09 00:59:24,877 - WARNING - Failed to send email notification - Details: {"payment_id": "142a4302-f7b1-4ec5-b851-3bebc6e31f4e", "email": "user@example.com"}
2025-05-09 00:59:24,883 - INFO - Payment created for user string - Details: {"payment_id": "142a4302-f7b1-4ec5-b851-3bebc6e31f4e", "amount": 0.0, "service_id": "string"}
2025-05-09 01:00:14,132 - INFO - Creating new payment - Details: {"payment_id": "ee457082-ee7a-4f90-a2af-8b3f2dfd09dc", "user_id": "string"}
2025-05-09 01:00:14,135 - DEBUG - Sending email to http://localhost:8001/payment/created - Details: {"endpoint": "payment/created", "data": {"recipient": "user@example.com", "payment_id": "ee457082-ee7a-4f90-a2af-8b3f2dfd09dc", "service_name": "string", "amount": 0.0, "due_date": "2025-06-08"}}
2025-05-09 01:00:14,140 - DEBUG - JSON data: {"recipient": "user@example.com", "payment_id": "ee457082-ee7a-4f90-a2af-8b3f2dfd09dc", "service_name": "string", "amount": 0.0, "due_date": "2025-06-08"} - Details: {"json_data": "{\"recipient\": \"user@example.com\", \"payment_id\": \"ee457082-ee7a-4f90-a2af-8b3f2dfd09dc\", \"service_name\": \"string\", \"amount\": 0.0, \"due_date\": \"2025-06-08\"}"}
2025-05-09 01:00:20,766 - DEBUG - Email response - Details: {"status_code": 200, "content": "{\"status\":\"success\",\"message\":\"Payment creation email sent\"}"}
2025-05-09 01:00:20,772 - INFO - Payment created for user string - Details: {"payment_id": "ee457082-ee7a-4f90-a2af-8b3f2dfd09dc", "amount": 0.0, "service_id": "string"}
2025-05-09 01:02:14,046 - INFO - Getting payment info - Details: {"payment_id": "ee457082-ee7a-4f90-a2af-8b3f2dfd09dc"}
2025-05-09 01:02:35,308 - INFO - Updating payment status - Details: {"payment_id": "ee457082-ee7a-4f90-a2af-8b3f2dfd09dc", "new_status": "paid"}
2025-05-09 01:02:35,314 - INFO - Payment marked as paid - Details: {"payment_id": "ee457082-ee7a-4f90-a2af-8b3f2dfd09dc"}
2025-05-09 01:02:35,321 - DEBUG - Sending email to http://localhost:8001/payment/success - Details: {"endpoint": "payment/success", "data": {"payment_id": "ee457082-ee7a-4f90-a2af-8b3f2dfd09dc", "service_name": "string", "amount": 0.0, "recipient": "user@example.com"}}
2025-05-09 01:02:35,328 - DEBUG - JSON data: {"payment_id": "ee457082-ee7a-4f90-a2af-8b3f2dfd09dc", "service_name": "string", "amount": 0.0, "recipient": "user@example.com"} - Details: {"json_data": "{\"payment_id\": \"ee457082-ee7a-4f90-a2af-8b3f2dfd09dc\", \"service_name\": \"string\", \"amount\": 0.0, \"recipient\": \"user@example.com\"}"}
2025-05-09 01:02:38,902 - DEBUG - Email response - Details: {"status_code": 200, "content": "{\"status\":\"success\",\"message\":\"Payment success email sent\"}"}
2025-05-09 01:02:58,787 - INFO - Deleting payment - Details: {"payment_id": "ee457082-ee7a-4f90-a2af-8b3f2dfd09dc"}
2025-05-09 01:02:58,793 - INFO - Payment deleted successfully - Details: {"payment_id": "ee457082-ee7a-4f90-a2af-8b3f2dfd09dc"}
2025-05-09 01:03:10,495 - INFO - Received payment application - Details: {"user_id": "string", "service_id": "string"}
2025-05-09 01:03:10,499 - DEBUG - Available services - Details: {"services": ["string"]}
2025-05-09 01:03:10,502 - DEBUG - Sending email to http://localhost:8001/application/created - Details: {"endpoint": "application/created", "data": {"application_id": "88ab51df-ccbe-4140-a089-c55ab1971f14", "service_name": "string", "amount": 0.0, "recipient": "user@example.com"}}
2025-05-09 01:03:10,506 - DEBUG - JSON data: {"application_id": "88ab51df-ccbe-4140-a089-c55ab1971f14", "service_name": "string", "amount": 0.0, "recipient": "user@example.com"} - Details: {"json_data": "{\"application_id\": \"88ab51df-ccbe-4140-a089-c55ab1971f14\", \"service_name\": \"string\", \"amount\": 0.0, \"recipient\": \"user@example.com\"}"}
2025-05-09 01:03:14,104 - DEBUG - Email response - Details: {"status_code": 200, "content": "{\"status\":\"success\",\"message\":\"Application creation email sent\"}"}
2025-05-09 01:03:14,110 - INFO - Payment application created - Details: {"application_id": "88ab51df-ccbe-4140-a089-c55ab1971f14", "status": "pending"}
2025-05-09 01:03:32,947 - INFO - Getting application info - Details: {"application_id": "88ab51df-ccbe-4140-a089-c55ab1971f14"}
2025-05-09 01:03:46,336 - INFO - Deleting payment application - Details: {"application_id": "88ab51df-ccbe-4140-a089-c55ab1971f14"}
2025-05-09 01:03:46,341 - DEBUG - Sending email to http://localhost:8001/application/deleted - Details: {"endpoint": "application/deleted", "data": {"application_id": "88ab51df-ccbe-4140-a089-c55ab1971f14", "service_name": "string", "amount": 0.0, "recipient": "user@example.com"}}
2025-05-09 01:03:46,347 - DEBUG - JSON data: {"application_id": "88ab51df-ccbe-4140-a089-c55ab1971f14", "service_name": "string", "amount": 0.0, "recipient": "user@example.com"} - Details: {"json_data": "{\"application_id\": \"88ab51df-ccbe-4140-a089-c55ab1971f14\", \"service_name\": \"string\", \"amount\": 0.0, \"recipient\": \"user@example.com\"}"}
2025-05-09 01:03:49,961 - DEBUG - Email response - Details: {"status_code": 200, "content": "{\"status\":\"success\",\"message\":\"Application deletion email sent\"}"}
2025-05-09 01:03:49,968 - INFO - Payment application successfully deleted - Details: {"application_id": "88ab51df-ccbe-4140-a089-c55ab1971f14"}
2025-05-09 01:04:10,589 - INFO - Received payment application - Details: {"user_id": "string", "service_id": "string"}
2025-05-09 01:04:10,591 - DEBUG - Available services - Details: {"services": ["string"]}
2025-05-09 01:04:10,595 - DEBUG - Sending email to http://localhost:8001/application/created - Details: {"endpoint": "application/created", "data": {"application_id": "60bbf294-fc25-419e-9660-b927e4e443d0", "service_name": "string", "amount": 0.0, "recipient": "user@example.com"}}
2025-05-09 01:04:10,600 - DEBUG - JSON data: {"application_id": "60bbf294-fc25-419e-9660-b927e4e443d0", "service_name": "string", "amount": 0.0, "recipient": "user@example.com"} - Details: {"json_data": "{\"application_id\": \"60bbf294-fc25-419e-9660-b927e4e443d0\", \"service_name\": \"string\", \"amount\": 0.0, \"recipient\": \"user@example.com\"}"}
2025-05-09 01:04:14,207 - DEBUG - Email response - Details: {"status_code": 200, "content": "{\"status\":\"success\",\"message\":\"Application creation email sent\"}"}
2025-05-09 01:04:14,219 - INFO - Payment application created - Details: {"application_id": "60bbf294-fc25-419e-9660-b927e4e443d0", "status": "pending"}
2025-05-09 01:04:27,987 - INFO - Approving payment application - Details: {"application_id": "60bbf294-fc25-419e-9660-b927e4e443d"}
2025-05-09 01:04:28,017 - WARNING - Application not found - Details: {"application_id": "60bbf294-fc25-419e-9660-b927e4e443d"}
2025-05-09 01:04:55,505 - INFO - Approving payment application - Details: {"application_id": "60bbf294-fc25-419e-9660-b927e4e443d0"}
2025-05-09 01:04:55,509 - DEBUG - Sending email to http://localhost:8001/application/approved - Details: {"endpoint": "application/approved", "data": {"application_id": "60bbf294-fc25-419e-9660-b927e4e443d0", "service_name": "string", "amount": 0.0, "payment_id": "55027bf2-2ca9-4103-afb0-9917ec4343d8", "recipient": "user@example.com"}}
2025-05-09 01:04:55,515 - DEBUG - JSON data: {"application_id": "60bbf294-fc25-419e-9660-b927e4e443d0", "service_name": "string", "amount": 0.0, "payment_id": "55027bf2-2ca9-4103-afb0-9917ec4343d8", "recipient": "user@example.com"} - Details: {"json_data": "{\"application_id\": \"60bbf294-fc25-419e-9660-b927e4e443d0\", \"service_name\": \"string\", \"amount\": 0.0, \"payment_id\": \"55027bf2-2ca9-4103-afb0-9917ec4343d8\", \"recipient\": \"user@example.com\"}"}
2025-05-09 01:04:59,190 - DEBUG - Email response - Details: {"status_code": 200, "content": "{\"status\":\"success\",\"message\":\"Application approval email sent\"}"}
2025-05-09 01:04:59,196 - INFO - Application approved and payment created - Details: {"application_id": "60bbf294-fc25-419e-9660-b927e4e443d0", "payment_id": "55027bf2-2ca9-4103-afb0-9917ec4343d8"}
2025-05-09 01:05:18,292 - INFO - Rejecting payment application - Details: {"application_id": "60bbf294-fc25-419e-9660-b927e4e443d0", "reason": "no reason"}
2025-05-09 01:05:18,296 - DEBUG - Sending email to http://localhost:8001/application/rejected - Details: {"endpoint": "application/rejected", "data": {"application_id": "60bbf294-fc25-419e-9660-b927e4e443d0", "service_name": "string", "amount": 0.0, "reason": "no reason", "recipient": "user@example.com"}}
2025-05-09 01:05:18,301 - DEBUG - JSON data: {"application_id": "60bbf294-fc25-419e-9660-b927e4e443d0", "service_name": "string", "amount": 0.0, "reason": "no reason", "recipient": "user@example.com"} - Details: {"json_data": "{\"application_id\": \"60bbf294-fc25-419e-9660-b927e4e443d0\", \"service_name\": \"string\", \"amount\": 0.0, \"reason\": \"no reason\", \"recipient\": \"user@example.com\"}"}
2025-05-09 01:05:22,020 - DEBUG - Email response - Details: {"status_code": 200, "content": "{\"status\":\"success\",\"message\":\"Application rejection email sent\"}"}
2025-05-09 01:05:22,024 - INFO - Application rejected - Details: {"application_id": "60bbf294-fc25-419e-9660-b927e4e443d0"}
2025-05-09 01:06:30,816 - INFO - Creating new payment - Details: {"payment_id": "991291e0-4bcb-41fd-a1a3-55f1fb204ba9", "user_id": "string"}
2025-05-09 01:06:30,819 - DEBUG - Sending email to http://localhost:8001/payment/created - Details: {"endpoint": "payment/created", "data": {"recipient": "user@example.com", "payment_id": "991291e0-4bcb-41fd-a1a3-55f1fb204ba9", "service_name": "string", "amount": 0.0, "due_date": "2025-06-08"}}
2025-05-09 01:06:30,822 - DEBUG - JSON data: {"recipient": "user@example.com", "payment_id": "991291e0-4bcb-41fd-a1a3-55f1fb204ba9", "service_name": "string", "amount": 0.0, "due_date": "2025-06-08"} - Details: {"json_data": "{\"recipient\": \"user@example.com\", \"payment_id\": \"991291e0-4bcb-41fd-a1a3-55f1fb204ba9\", \"service_name\": \"string\", \"amount\": 0.0, \"due_date\": \"2025-06-08\"}"}
2025-05-09 01:06:34,500 - DEBUG - Email response - Details: {"status_code": 200, "content": "{\"status\":\"success\",\"message\":\"Payment creation email sent\"}"}
2025-05-09 01:06:34,507 - INFO - Payment created for user string - Details: {"payment_id": "991291e0-4bcb-41fd-a1a3-55f1fb204ba9", "amount": 0.0, "service_id": "string"}
2025-05-09 01:06:51,981 - INFO - Downloading payment information - Details: {"payment_id": "991291e0-4bcb-41fd-a1a3-55f1fb204ba9"}
2025-05-09 01:06:52,003 - DEBUG - Creating CSV file - Details: {"file_path": "/mnt/c/Users/lotus/classroom-payment-service/csv_exports/2025-05-09/payment_991291e0-4bcb-41fd-a1a3-55f1fb204ba9.csv"}
2025-05-09 01:06:52,013 - INFO - CSV file created successfully - Details: {"payment_id": "991291e0-4bcb-41fd-a1a3-55f1fb204ba9", "file_path": "/mnt/c/Users/lotus/classroom-payment-service/csv_exports/2025-05-09/payment_991291e0-4bcb-41fd-a1a3-55f1fb204ba9.csv"}
2025-05-09 01:10:06,078 - INFO - Received payment application - Details: {"user_id": "string", "service_id": "string"}
2025-05-09 01:10:06,083 - DEBUG - Available services - Details: {"services": ["string"]}
2025-05-09 01:10:06,086 - DEBUG - Sending email to http://localhost:8001/application/created - Details: {"endpoint": "application/created", "data": {"application_id": "27270d2a-9b76-45e2-bf78-b190ef9622e6", "service_name": "string", "amount": 0.0, "recipient": "user@example.com"}}
2025-05-09 01:10:06,090 - DEBUG - JSON data: {"application_id": "27270d2a-9b76-45e2-bf78-b190ef9622e6", "service_name": "string", "amount": 0.0, "recipient": "user@example.com"} - Details: {"json_data": "{\"application_id\": \"27270d2a-9b76-45e2-bf78-b190ef9622e6\", \"service_name\": \"string\", \"amount\": 0.0, \"recipient\": \"user@example.com\"}"}
2025-05-09 01:10:09,796 - DEBUG - Email response - Details: {"status_code": 200, "content": "{\"status\":\"success\",\"message\":\"Application creation email sent\"}"}
2025-05-09 01:10:09,802 - INFO - Payment application created - Details: {"application_id": "27270d2a-9b76-45e2-bf78-b190ef9622e6", "status": "pending"}
2025-05-09 01:11:58,568 - INFO - Received payment application - Details: {"user_id": "string", "service_id": "string"}
2025-05-09 01:11:58,645 - DEBUG - Available services - Details: {"services": ["string"]}
2025-05-09 01:11:58,649 - DEBUG - Sending email to http://localhost:8001/application/created - Details: {"endpoint": "application/created", "data": {"application_id": "a84e360b-43bd-43eb-b35e-377574be0652", "service_name": "string", "amount": 0.0, "recipient": "user@example.com"}}
2025-05-09 01:11:58,652 - DEBUG - JSON data: {"application_id": "a84e360b-43bd-43eb-b35e-377574be0652", "service_name": "string", "amount": 0.0, "recipient": "user@example.com"} - Details: {"json_data": "{\"application_id\": \"a84e360b-43bd-43eb-b35e-377574be0652\", \"service_name\": \"string\", \"amount\": 0.0, \"recipient\": \"user@example.com\"}"}
2025-05-09 01:12:02,982 - DEBUG - Email response - Details: {"status_code": 200, "content": "{\"status\":\"success\",\"message\":\"Application creation email sent\"}"}
2025-05-09 01:12:02,998 - INFO - Payment application created - Details: {"application_id": "a84e360b-43bd-43eb-b35e-377574be0652", "status": "pending"}
2025-05-09 01:13:31,901 - INFO - Adding new payment service - Details: {"service_id": "string", "name": "string"}
2025-05-09 01:13:31,902 - INFO - Payment service added successfully - Details: {"service_id": "string"}
2025-05-09 01:13:42,473 - INFO - Creating new payment - Details: {"payment_id": "870dc0b3-f374-47c4-a3cb-c6f50ee91081", "user_id": "string"}
2025-05-09 01:13:42,478 - DEBUG - Sending email to http://localhost:8001/payment/created - Details: {"endpoint": "payment/created", "data": {"recipient": "user@example.com", "payment_id": "870dc0b3-f374-47c4-a3cb-c6f50ee91081", "service_name": "string", "amount": 0.0, "due_date": "2025-06-08"}}
2025-05-09 01:13:42,482 - DEBUG - JSON data: {"recipient": "user@example.com", "payment_id": "870dc0b3-f374-47c4-a3cb-c6f50ee91081", "service_name": "string", "amount": 0.0, "due_date": "2025-06-08"} - Details: {"json_data": "{\"recipient\": \"user@example.com\", \"payment_id\": \"870dc0b3-f374-47c4-a3cb-c6f50ee91081\", \"service_name\": \"string\", \"amount\": 0.0, \"due_date\": \"2025-06-08\"}"}
2025-05-09 01:13:46,729 - DEBUG - Email response - Details: {"status_code": 200, "content": "{\"status\":\"success\",\"message\":\"Payment creation email sent\"}"}
2025-05-09 01:13:46,737 - INFO - Payment created for user string - Details: {"payment_id": "870dc0b3-f374-47c4-a3cb-c6f50ee91081", "amount": 0.0, "service_id": "string"}
2025-05-09 01:20:36,967 - INFO - Creating new payment - Details: {"payment_id": "3d84dbe0-f98d-46ed-bb34-254f16d6769b", "user_id": "string"}
2025-05-09 01:20:36,968 - DEBUG - Sending email to http://localhost:8001/payment/created - Details: {"endpoint": "payment/created", "data": {"recipient": "user@example.com", "payment_id": "3d84dbe0-f98d-46ed-bb34-254f16d6769b", "service_name": "string", "amount": 0.0, "due_date": "2025-06-08"}}
2025-05-09 01:20:36,970 - DEBUG - JSON data: {"recipient": "user@example.com", "payment_id": "3d84dbe0-f98d-46ed-bb34-254f16d6769b", "service_name": "string", "amount": 0.0, "due_date": "2025-06-08"} - Details: {"json_data": "{\"recipient\": \"user@example.com\", \"payment_id\": \"3d84dbe0-f98d-46ed-bb34-254f16d6769b\", \"service_name\": \"string\", \"amount\": 0.0, \"due_date\": \"2025-06-08\"}"}
2025-05-09 01:20:40,862 - DEBUG - Email response - Details: {"status_code": 200, "content": "{\"status\":\"success\",\"message\":\"Payment creation email sent\"}"}
2025-05-09 01:20:40,867 - INFO - Payment created for user string - Details: {"payment_id": "3d84dbe0-f98d-46ed-bb34-254f16d6769b", "amount": 0.0, "service_id": "string"}
2025-05-09 01:24:39,561 - INFO - Adding new payment service - Details: {"service_id": "string", "name": "string"}
2025-05-09 01:24:39,562 - INFO - Payment service added successfully - Details: {"service_id": "string"}
2025-05-09 01:24:43,844 - INFO - Creating new payment - Details: {"payment_id": "4a4d0a3c-b87f-4db3-ad71-31e94da85827", "user_id": "string"}
2025-05-09 01:24:43,848 - DEBUG - Sending email to http://localhost:8001/payment/created - Details: {"endpoint": "payment/created", "data": {"recipient": "user@example.com", "payment_id": "4a4d0a3c-b87f-4db3-ad71-31e94da85827", "service_name": "string", "amount": 0.0, "due_date": "2025-06-08"}}
2025-05-09 01:24:43,853 - DEBUG - JSON data: {"recipient": "user@example.com", "payment_id": "4a4d0a3c-b87f-4db3-ad71-31e94da85827", "service_name": "string", "amount": 0.0, "due_date": "2025-06-08"} - Details: {"json_data": "{\"recipient\": \"user@example.com\", \"payment_id\": \"4a4d0a3c-b87f-4db3-ad71-31e94da85827\", \"service_name\": \"string\", \"amount\": 0.0, \"due_date\": \"2025-06-08\"}"}
2025-05-09 01:24:47,625 - DEBUG - Email response - Details: {"status_code": 200, "content": "{\"status\":\"success\",\"message\":\"Payment creation email sent\"}"}
2025-05-09 01:24:47,629 - INFO - Payment created for user string - Details: {"payment_id": "4a4d0a3c-b87f-4db3-ad71-31e94da85827", "amount": 0.0, "service_id": "string"}
2025-05-09 01:31:26,433 - INFO - Creating new payment - Details: {"payment_id": "17d58778-ce32-4cfc-8469-36dc0da65455", "user_id": "string"}
2025-05-09 01:31:26,438 - DEBUG - Sending email to http://localhost:8001/payment/created - Details: {"endpoint": "payment/created", "data": {"recipient": "user@example.com", "payment_id": "17d58778-ce32-4cfc-8469-36dc0da65455", "service_name": "string", "amount": 0.0, "due_date": "2025-06-08"}}
2025-05-09 01:31:26,443 - DEBUG - JSON data: {"recipient": "user@example.com", "payment_id": "17d58778-ce32-4cfc-8469-36dc0da65455", "service_name": "string", "amount": 0.0, "due_date": "2025-06-08"} - Details: {"json_data": "{\"recipient\": \"user@example.com\", \"payment_id\": \"17d58778-ce32-4cfc-8469-36dc0da65455\", \"service_name\": \"string\", \"amount\": 0.0, \"due_date\": \"2025-06-08\"}"}
2025-05-09 01:31:30,094 - DEBUG - Email response - Details: {"status_code": 200, "content": "{\"status\":\"success\",\"message\":\"Payment creation email sent\"}"}
2025-05-09 01:31:30,099 - INFO - Payment created for user string - Details: {"payment_id": "17d58778-ce32-4cfc-8469-36dc0da65455", "amount": 0.0, "service_id": "string"}
2025-05-09 01:32:05,642 - INFO - Creating new payment - Details: {"payment_id": "66f46f89-a968-44d1-88fd-77f22bd280c7", "user_id": "string"}
2025-05-09 01:32:05,648 - DEBUG - Sending email to http://localhost:8001/payment/created - Details: {"endpoint": "payment/created", "data": {"recipient": "user@example.com", "payment_id": "66f46f89-a968-44d1-88fd-77f22bd280c7", "service_name": "string", "amount": 0.0, "due_date": "2025-06-08"}}
2025-05-09 01:32:05,660 - DEBUG - JSON data: {"recipient": "user@example.com", "payment_id": "66f46f89-a968-44d1-88fd-77f22bd280c7", "service_name": "string", "amount": 0.0, "due_date": "2025-06-08"} - Details: {"json_data": "{\"recipient\": \"user@example.com\", \"payment_id\": \"66f46f89-a968-44d1-88fd-77f22bd280c7\", \"service_name\": \"string\", \"amount\": 0.0, \"due_date\": \"2025-06-08\"}"}
2025-05-09 01:32:10,272 - DEBUG - Email response - Details: {"status_code": 200, "content": "{\"status\":\"success\",\"message\":\"Payment creation email sent\"}"}
2025-05-09 01:32:10,278 - INFO - Payment created for user string - Details: {"payment_id": "66f46f89-a968-44d1-88fd-77f22bd280c7", "amount": 0.0, "service_id": "string"}
2025-05-09 01:32:38,442 - INFO - Creating new payment - Details: {"payment_id": "83904cba-522a-4d72-b1c8-df9febf99ac5", "user_id": "string"}
2025-05-09 01:32:38,445 - DEBUG - Sending email to http://localhost:8001/payment/created - Details: {"endpoint": "payment/created", "data": {"recipient": "user@example.com", "payment_id": "83904cba-522a-4d72-b1c8-df9febf99ac5", "service_name": "string", "amount": 0.0, "due_date": "2025-06-08"}}
2025-05-09 01:32:38,448 - DEBUG - JSON data: {"recipient": "user@example.com", "payment_id": "83904cba-522a-4d72-b1c8-df9febf99ac5", "service_name": "string", "amount": 0.0, "due_date": "2025-06-08"} - Details: {"json_data": "{\"recipient\": \"user@example.com\", \"payment_id\": \"83904cba-522a-4d72-b1c8-df9febf99ac5\", \"service_name\": \"string\", \"amount\": 0.0, \"due_date\": \"2025-06-08\"}"}
2025-05-09 01:32:42,194 - DEBUG - Email response - Details: {"status_code": 200, "content": "{\"status\":\"success\",\"message\":\"Payment creation email sent\"}"}
2025-05-09 01:32:42,199 - INFO - Payment created for user string - Details: {"payment_id": "83904cba-522a-4d72-b1c8-df9febf99ac5", "amount": 0.0, "service_id": "string"}
2025-05-10 17:14:15,533 - INFO - Adding new payment service - Details: {"service_id": "string", "name": "string"}
2025-05-10 17:14:15,533 - INFO - Adding new payment service - Details: {"service_id": "string", "name": "string"}
2025-05-10 17:14:15,533 - INFO - Payment service added successfully - Details: {"service_id": "string"}
2025-05-10 17:14:15,533 - INFO - Payment service added successfully - Details: {"service_id": "string"}
2025-05-10 17:14:32,616 - INFO - Received payment application - Details: {"user_id": "string", "service_id": "string"}
2025-05-10 17:14:32,616 - INFO - Received payment application - Details: {"user_id": "string", "service_id": "string"}
2025-05-10 17:14:32,620 - DEBUG - Available services - Details: {"services": ["string"]}
2025-05-10 17:14:32,620 - DEBUG - Available services - Details: {"services": ["string"]}
2025-05-10 17:14:41,243 - INFO - Application created email sent to user@example.com
2025-05-10 17:14:41,243 - INFO - Application created email sent to user@example.com
2025-05-10 17:14:41,249 - INFO - Payment application created - Details: {"application_id": "d0268965-23c5-461d-a657-68cc190a97fa", "status": "pending"}
2025-05-10 17:14:41,249 - INFO - Payment application created - Details: {"application_id": "d0268965-23c5-461d-a657-68cc190a97fa", "status": "pending"}
2025-05-10 17:21:39,138 - INFO - Approving payment application - Details: {"application_id": "d0268965-23c5-461d-a657-68cc190a97fa"}
2025-05-10 17:21:39,138 - INFO - Approving payment application - Details: {"application_id": "d0268965-23c5-461d-a657-68cc190a97fa"}
2025-05-10 17:21:39,142 - WARNING - Application not found - Details: {"application_id": "d0268965-23c5-461d-a657-68cc190a97fa"}
2025-05-10 17:21:39,142 - WARNING - Application not found - Details: {"application_id": "d0268965-23c5-461d-a657-68cc190a97fa"}
2025-05-10 17:25:26,538 - INFO - Received payment application - Details: {"user_id": "string", "service_id": "string"}
2025-05-10 17:25:26,538 - INFO - Received payment application - Details: {"user_id": "string", "service_id": "string"}
2025-05-10 17:25:26,542 - DEBUG - Available services - Details: {"services": []}
2025-05-10 17:25:26,542 - DEBUG - Available services - Details: {"services": []}
2025-05-10 17:25:26,547 - WARNING - Payment service not found - Details: {"service_id": "string"}
2025-05-10 17:25:26,547 - WARNING - Payment service not found - Details: {"service_id": "string"}
2025-05-10 17:25:31,664 - INFO - Received payment application - Details: {"user_id": "string", "service_id": "string"}
2025-05-10 17:25:31,664 - INFO - Received payment application - Details: {"user_id": "string", "service_id": "string"}
2025-05-10 17:25:31,670 - DEBUG - Available services - Details: {"services": []}
2025-05-10 17:25:31,670 - DEBUG - Available services - Details: {"services": []}
2025-05-10 17:25:31,675 - WARNING - Payment service not found - Details: {"service_id": "string"}
2025-05-10 17:25:31,675 - WARNING - Payment service not found - Details: {"service_id": "string"}
2025-05-10 17:25:58,317 - INFO - Adding new payment service - Details: {"service_id": "string", "name": "string"}
2025-05-10 17:25:58,317 - INFO - Adding new payment service - Details: {"service_id": "string", "name": "string"}
2025-05-10 17:25:58,322 - INFO - Payment service added successfully - Details: {"service_id": "string"}
2025-05-10 17:25:58,322 - INFO - Payment service added successfully - Details: {"service_id": "string"}
2025-05-10 17:26:00,028 - INFO - Adding new payment service - Details: {"service_id": "string", "name": "string"}
2025-05-10 17:26:00,028 - INFO - Adding new payment service - Details: {"service_id": "string", "name": "string"}
2025-05-10 17:26:00,033 - WARNING - Service ID already exists - Details: {"service_id": "string"}
2025-05-10 17:26:00,033 - WARNING - Service ID already exists - Details: {"service_id": "string"}
2025-05-10 17:26:34,508 - INFO - Adding new payment service - Details: {"service_id": "string", "name": "string"}
2025-05-10 17:26:34,509 - INFO - Payment service added successfully - Details: {"service_id": "string"}
2025-05-10 17:26:47,021 - INFO - Received payment application - Details: {"user_id": "string", "service_id": "string"}
2025-05-10 17:26:47,025 - DEBUG - Available services - Details: {"services": ["string"]}
2025-05-10 17:26:55,443 - INFO - Application created email sent to user@example.com
2025-05-10 17:26:55,448 - INFO - Payment application created - Details: {"application_id": "b825d5a4-0b35-4da8-ab9b-bd23eee60a9a", "status": "pending"}
2025-05-10 17:27:28,885 - INFO - Approving payment application - Details: {"application_id": "b825d5a4-0b35-4da8-ab9b-bd23eee60a9a"}
2025-05-10 17:27:32,335 - INFO - Application approved email sent to user@example.com
2025-05-10 17:27:32,339 - INFO - Application approved and payment created - Details: {"application_id": "b825d5a4-0b35-4da8-ab9b-bd23eee60a9a", "payment_id": "dcb222f2-4d88-4d87-8d62-e7e30ac2b2fc"}
2025-05-10 17:28:54,517 - INFO - Creating new payment - Details: {"payment_id": "6eaafa68-0778-4fd4-b4b0-806bf118f53f", "user_id": "string"}
2025-05-10 17:28:58,084 - INFO - Payment created email sent to user@example.com
2025-05-10 17:28:58,089 - INFO - Payment created for user string - Details: {"payment_id": "6eaafa68-0778-4fd4-b4b0-806bf118f53f", "amount": 0.0, "service_id": "string"}
2025-05-10 17:38:52,913 - INFO - Adding new payment service - Details: {"service_id": "s1", "name": "s1"}
2025-05-10 17:38:52,917 - INFO - Payment service added successfully - Details: {"service_id": "s1"}
2025-05-10 17:39:00,006 - INFO - Listing all payment services
2025-05-10 17:39:16,879 - INFO - Getting payment service details - Details: {"service_id": "s1"}
2025-05-10 17:39:16,884 - DEBUG - Payment service found - Details: {"service_id": "s1", "service_name": "s1"}
2025-05-10 17:39:41,235 - INFO - Updating payment service - Details: {"service_id": "s1"}
2025-05-10 17:39:41,241 - INFO - Payment service updated successfully - Details: {"service_id": "s1", "updated_fields": ["name", "description", "base_price"]}
2025-05-10 17:39:45,982 - INFO - Getting payment service details - Details: {"service_id": "s1"}
2025-05-10 17:39:45,987 - DEBUG - Payment service found - Details: {"service_id": "s1", "service_name": "s1"}
2025-05-10 17:40:03,282 - INFO - Creating new payment - Details: {"payment_id": "daf82c72-5d2a-4993-aaae-a6c3b4c6d133", "user_id": "string"}
2025-05-10 17:40:03,285 - WARNING - Service not found for payment - Details: {"payment_id": "daf82c72-5d2a-4993-aaae-a6c3b4c6d133", "service_id": "string"}
2025-05-10 17:40:03,289 - ERROR - Failed to create payment: 404: Service not found - Details: {"user_id": "string", "service_id": "string", "error": "404: Service not found"}
2025-05-10 17:40:36,121 - INFO - Received payment application - Details: {"user_id": "u1", "service_id": "s1"}
2025-05-10 17:40:36,124 - DEBUG - Available services - Details: {"services": ["s1"]}
2025-05-10 17:40:39,751 - INFO - Application created email sent to huhu@example.com
2025-05-10 17:40:39,757 - INFO - Payment application created - Details: {"application_id": "1ebc9b14-c8d6-44ab-bce6-40344305fc86", "status": "pending"}
2025-05-10 17:41:08,931 - INFO - Getting application info - Details: {"application_id": "1ebc9b14-c8d6-44ab-bce6-40344305fc86"}
2025-05-10 17:41:22,779 - INFO - Approving payment application - Details: {"application_id": "1ebc9b14-c8d6-44ab-bce6-40344305fc86"}
2025-05-10 17:41:26,178 - INFO - Application approved email sent to huhu@example.com
2025-05-10 17:41:29,678 - INFO - Payment created email sent to huhu@example.com
2025-05-10 17:41:29,683 - INFO - Application approved and payment created - Details: {"application_id": "1ebc9b14-c8d6-44ab-bce6-40344305fc86", "payment_id": "67dfa905-c429-4fa7-96df-7c81adbbc97a", "status": "pending"}
2025-05-10 17:43:15,265 - INFO - Getting payment info - Details: {"payment_id": "67dfa905-c429-4fa7-96df-7c81adbbc97a"}
2025-05-10 17:48:47,081 - INFO - Updating payment status - Details: {"payment_id": "67dfa905-c429-4fa7-96df-7c81adbbc97a", "new_status": "paid"}
2025-05-10 17:48:47,085 - INFO - Payment marked as paid - Details: {"payment_id": "67dfa905-c429-4fa7-96df-7c81adbbc97a"}
2025-05-10 17:48:50,675 - INFO - Payment success email sent to huhu@example.com
2025-05-10 17:49:00,299 - INFO - Updating payment status - Details: {"payment_id": "67dfa905-c429-4fa7-96df-7c81adbbc97a", "new_status": "failed"}
2025-05-10 17:49:00,304 - INFO - Payment marked as failed - Details: {"payment_id": "67dfa905-c429-4fa7-96df-7c81adbbc97a"}
2025-05-10 17:49:03,780 - INFO - Payment failed email sent to huhu@example.com
2025-05-10 17:49:27,425 - INFO - Deleting payment - Details: {"payment_id": "67dfa905-c429-4fa7-96df-7c81adbbc97a"}
2025-05-10 17:49:27,429 - INFO - Payment deleted successfully - Details: {"payment_id": "67dfa905-c429-4fa7-96df-7c81adbbc97a"}
2025-05-10 17:49:29,980 - INFO - Deleting payment - Details: {"payment_id": "67dfa905-c429-4fa7-96df-7c81adbbc97a"}
2025-05-10 17:49:29,984 - WARNING - Payment not found - Details: {"payment_id": "67dfa905-c429-4fa7-96df-7c81adbbc97a"}
2025-05-10 17:50:03,671 - INFO - Deleting payment application - Details: {"application_id": "1ebc9b14-c8d6-44ab-bce6-40344305fc86"}
2025-05-10 17:50:07,190 - INFO - Application deleted email sent to huhu@example.com
2025-05-10 17:50:07,195 - INFO - Payment application successfully deleted - Details: {"application_id": "1ebc9b14-c8d6-44ab-bce6-40344305fc86"}
2025-05-10 17:50:32,484 - INFO - Creating new payment - Details: {"payment_id": "5ff9728e-8255-4949-991d-59afa5dc136c", "user_id": "string"}
2025-05-10 17:50:32,489 - WARNING - Service not found for payment - Details: {"payment_id": "5ff9728e-8255-4949-991d-59afa5dc136c", "service_id": "string"}
2025-05-10 17:50:32,493 - ERROR - Failed to create payment: 404: Service not found - Details: {"user_id": "string", "service_id": "string", "error": "404: Service not found"}
2025-05-10 17:50:46,870 - INFO - Creating new payment - Details: {"payment_id": "adba2d5f-922a-49c2-9dab-4bd134a41878", "user_id": "string"}
2025-05-10 17:50:50,416 - INFO - Payment created email sent to user@example.com
2025-05-10 17:50:50,422 - INFO - Payment created for user string - Details: {"payment_id": "adba2d5f-922a-49c2-9dab-4bd134a41878", "amount": 0.0, "service_id": "s1"}
2025-05-10 17:51:21,472 - INFO - Downloading payment information - Details: {"payment_id": "adba2d5f-922a-49c2-9dab-4bd134a41878"}
2025-05-10 17:51:21,486 - DEBUG - Creating CSV file - Details: {"file_path": "/mnt/c/Users/lotus/classroom-payment-service/csv_exports/2025-05-10/payment_adba2d5f-922a-49c2-9dab-4bd134a41878.csv"}
2025-05-10 17:51:21,494 - INFO - CSV file created successfully - Details: {"payment_id": "adba2d5f-922a-49c2-9dab-4bd134a41878", "file_path": "/mnt/c/Users/lotus/classroom-payment-service/csv_exports/2025-05-10/payment_adba2d5f-922a-49c2-9dab-4bd134a41878.csv"}
2025-05-10 17:51:41,012 - INFO - Creating new payment - Details: {"payment_id": "095aabf0-d166-4287-a74b-2b46a62444c0", "user_id": "string"}
2025-05-10 17:51:44,491 - INFO - Payment created email sent to user@example.com
2025-05-10 17:51:44,495 - INFO - Payment created for user string - Details: {"payment_id": "095aabf0-d166-4287-a74b-2b46a62444c0", "amount": 670.0, "service_id": "s1"}
2025-05-10 17:51:48,773 - INFO - Exporting all payments to CSV
2025-05-10 17:51:48,817 - INFO - All payments exported successfully - Details: {"file_path": "/mnt/c/Users/lotus/classroom-payment-service/csv_exports/all_payments_20250510_175148.csv"}
2025-05-10 18:10:58,942 - INFO - Adding new payment service - Details: {"service_id": "s1", "name": "s1"}
2025-05-10 18:10:58,959 - INFO - Payment service added successfully - Details: {"service_id": "s1"}
2025-05-10 18:11:06,487 - INFO - Creating new payment - Details: {"payment_id": "afe6e4a3-e38c-4fb6-aefe-db6a68fdb71e", "user_id": "string"}
2025-05-10 18:11:10,213 - INFO - Payment created email sent to user@example.com
2025-05-10 18:11:10,216 - INFO - Payment created for user string - Details: {"payment_id": "afe6e4a3-e38c-4fb6-aefe-db6a68fdb71e", "amount": 670.0, "service_id": "s1"}
2025-05-10 18:38:16,225 - INFO - Creating new payment - Details: {"payment_id": "724a7b88-c1b1-4b93-b4b5-187743a61b24", "user_id": "string"}
2025-05-10 18:38:16,257 - ERROR - Failed to send payment created email: Error sending template email: HTTPConnectionPool(host='localhost', port=8001): Max retries exceeded with url: /send-template (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f27fe0c4310>: Failed to establish a new connection: [Errno 111] Connection refused'))
2025-05-10 18:38:16,263 - WARNING - Failed to send email notification - Details: {"payment_id": "724a7b88-c1b1-4b93-b4b5-187743a61b24", "email": "user@example.com"}
2025-05-10 18:38:16,269 - INFO - Payment created for user string - Details: {"payment_id": "724a7b88-c1b1-4b93-b4b5-187743a61b24", "amount": 670.0, "service_id": "s1"}
